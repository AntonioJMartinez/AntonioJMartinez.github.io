<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Antonio J. Martínez" content="Product Manager, UX Designer & iOS Developer. Entrepreneur">
    <meta name="description" content="A showcase of mobile applications developed by Antonio J. Martínez.">
    <title>Antonio J. Martínez - Apps</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="apps.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600" rel="stylesheet">
</head>
<body class="no-js">
    <section class="main">
        <div id="header">
            <a href="index.html">
                <h1 id="headerText">Antonio J. Martinez</h1>
            </a>
            <div id="contact-icons">
                <a href="https://www.linkedin.com/in/antoniojmartinezsanchez/" target="_blank">
                    <img class="linkedin" src="images/linkedin-black.svg" border="0"  alt="linkedin">
                </a>
                <a href="http://www.twitter.com/antoniojms" target="_blank">
                    <img class="twitter" src="images/twitter-black.svg" alt="twitter">
                </a>
                <a href="https://www.instagram.com/antoniojmartinez_/" target="_blank">
                    <img class="instagram" src="images/instagram-black.svg" alt="instagram">
                </a>
                <a href="https://500px.com/p/antoniojmartinez?view=photos" target="_blank">
                    <img class="500px" src="images/500px-black.svg" alt="500px">
                </a>
                <a href="mailto:martinez.sanchez.aj@icloud.com">
                    <img class="mail" src="images/mail-black.svg" align="mail">
                </a>
            </div>
        </div>

        <div class="project-title">
            <h1>Apps</h1>
            <p>A collection of my published iOS applications.</p>
        </div>

        <div class="work-showcase">
            <div class="work-item" data-app-id="6502008343">
                <div class="app-header">
                    <img src="images/apps/solora.jpg" alt="Solora App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Solora</h2>
                        <p>The ultimate forecast tool for photographers and adventurers to capture perfect sunrises, sunsets, and celestial events.</p>
                        <a href="https://apps.apple.com/es/app/atardecer-amanecer-solora/id6502008343" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>

            <div class="work-item" data-app-id="6752911194">
                <div class="app-header">
                    <img src="images/apps/cogno.jpg" alt="Cogno App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Cogno</h2>
                        <p>Your command center for movies, series, anime, manga, and books. Track, discover, and sync your entertainment across all Apple devices.</p>
                        <a href="https://apps.apple.com/us/app/movie-diary-book-tracker-cogno/id6752911194" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>

            <div class="work-item" data-app-id="6651860798">
                <div class="app-header">
                    <img src="images/apps/olamar.jpg" alt="Olamar App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Olamar</h2>
                        <p>Get real-time marine forecasts, wave heights, and surf conditions for thousands of beaches worldwide.</p>
                        <a href="https://apps.apple.com/us/app/marine-weather-beaches-olamar/id6651860798" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>

            <div class="work-item" data-app-id="916525681">
                <div class="app-header">
                    <img src="images/apps/dinata.svg" alt="Dinata App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Dinata</h2>
                        <p>A text-to-speech app to help people with speech disabilities communicate through their device.</p>
                        <a href="https://apps.apple.com/us/app/aac-text-to-speech-tts-dinata/id916525681" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>

            <div class="work-item" data-app-id="6740244417">
                <div class="app-header">
                    <img src="images/apps/wige.jpg" alt="Wige App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Wige</h2>
                        <p>Transforms every event into an unforgettable celebration. Create and customize your gift exchanges with two exciting modes.</p>
                        <a href="https://apps.apple.com/es/app/sorteo-amigo-invisible-wige/id6740244417" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>

            <div class="work-item" data-app-id="1182999726">
                <div class="app-header">
                    <img src="images/apps/nimblit.pdf" alt="Nimblit App Icon" class="app-icon">
                    <div class="app-info">
                        <h2>Nimblit</h2>
                        <p>Challenge your mind with a set of fun and engaging brain-training games and puzzles.</p>
                        <a href="https://apps.apple.com/es/app/nimblit-juegos-mentales/id1182999726" target="_blank" class="app-store-badge">
                            View on App Store
                        </a>
                    </div>
                </div>
                <div class="screenshots-container">
                    <div class="screenshots-scroll">
                        <div class="screenshots-loading">Loading screenshots</div>
                    </div>
                </div>
            </div>
        </div>

    </section>
    
    <script>
        // Fetch iOS screenshots by scraping the App Store website
        async function fetchAppScreenshots(appId, country = 'us') {
            try {
                // Get the App Store URL for this app
                const appStoreUrl = `https://apps.apple.com/${country}/app/id${appId}`;
                // Use CORS proxy to fetch the page
                const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(appStoreUrl)}`;
                
                const response = await fetch(proxyUrl, {
                    headers: {
                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36'
                    }
                });
                
                if (response.ok) {
                    const html = await response.text();
                    // Extract screenshot URLs from the HTML
                    // Look for mzstatic.com URLs that are screenshots (not icons or placeholders)
                    const regex = /https:\/\/is\d+-ssl\.mzstatic\.com\/image\/thumb\/Purple[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\/[^.]+\.(jpg|png)\/(\d+)x(\d+)bb(?:-\d+)?\.(webp|jpg)/g;
                    const matches = html.matchAll(regex);
                    
                    const screenshotMap = new Map(); // Use map to deduplicate by base URL
                    for (const match of matches) {
                        const fullUrl = match[0];
                        // Skip placeholders and icons
                        if (fullUrl.includes('Placeholder') || fullUrl.includes('AppIcon')) continue;
                        
                        // Extract base URL (without size) for deduplication
                        const baseUrl = fullUrl.replace(/\/\d+x\d+bb(?:-\d+)?\.(webp|jpg)$/, '');
                        
                        // Parse dimensions
                        const width = parseInt(match[2], 10);
                        const height = parseInt(match[3], 10);
                        
                        const current = screenshotMap.get(baseUrl);
                        const area = width * height;
                        if (!current || area > current.area) {
                            screenshotMap.set(baseUrl, { width, height, area });
                        }
                    }
                    
                    const screenshots = [...screenshotMap.entries()].map(([baseUrl, size]) =>
                        `${baseUrl}/${size.width}x${size.height}bb.jpg`
                    );
                    if (screenshots.length > 0) {
                        return screenshots;
                    }
                }
                
                // Fallback to iTunes API
                return await fetchFromItunesAPI(appId, country);
            } catch (error) {
                console.warn(`App Store scraping failed for app ${appId}, falling back:`, error);
                return await fetchFromItunesAPI(appId, country);
            }
        }

        async function fetchFromItunesAPI(appId, country = 'us') {
            try {
                const url = `https://itunes.apple.com/lookup?id=${appId}&entity=software&country=${country}&_=${Date.now()}`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.results && data.results.length > 0) {
                    const app = data.results[0];
                    const screenshots = [
                        ...(app.screenshotUrls || []),
                        ...(app.ipadScreenshotUrls || [])
                    ];
                    return screenshots;
                }
                return [];
            } catch (error) {
                console.error(`iTunes API fetch failed for app ${appId}:`, error);
                return [];
            }
        }

        async function loadAllScreenshots() {
            const appItems = document.querySelectorAll('.work-item[data-app-id]');
            
            for (const item of appItems) {
                const appId = item.dataset.appId;
                const screenshotsScroll = item.querySelector('.screenshots-scroll');
                
                // Default to US store for screenshots
                const screenshots = await fetchAppScreenshots(appId, 'us');
                
                if (screenshots.length > 0) {
                    screenshotsScroll.innerHTML = screenshots.map(url => 
                        `<img src="${url}" alt="App Screenshot" class="screenshot" loading="lazy">`
                    ).join('');
                } else {
                    screenshotsScroll.innerHTML = '<p style="color: #86868b;">Screenshots not available</p>';
                }
            }
        }

        // Load screenshots when DOM is ready
        document.addEventListener('DOMContentLoaded', loadAllScreenshots);
    </script>

    <script src="js/photography.js"></script>
    <script src="js/library.js"></script>
    <script src="js/script.js"></script>
    <script src="js/retina.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-61325468-2', 'auto');
        ga('send', 'pageview');
    </script>
</body>
</html> 
